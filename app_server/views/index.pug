extends layout

block content
  .container.my-4
    // Hero Section
    .row.mb-4
      .col-12
        .bg-primary.text-white.rounded.p-4.text-center
          h1.display-5.fw-bold Encuentra lo que necesitas en USFQ
          p.lead Compra y vende libros, tecnología y más entre estudiantes

    // Search Section
    .row.mb-4
      .col-12
        .card.shadow-sm
          .card-body
            form.row.g-3
              .col-md-6
                .input-group
                  span.input-group-text
                    i.bi.bi-search
                  input.form-control(type="text", placeholder="Buscar libros, calculadoras, tablets...")
              .col-md-2
                select.form-select
                  option(selected) Categoría
                  option(value="Libros") Libros
                  option(value="Tecnología") Tecnología
                  option(value="Arte") Arte
                  option(value="Hogar") Hogar
                  option(value="Otros") Otros
              .col-md-2
                select.form-select
                  option(selected) Condición
                  option(value="Nuevo") Nuevo
                  option(value="Como nuevo") Como nuevo
                  option(value="Usado") Usado
              .col-md-2
                button.btn.btn-primary.w-100(type="submit") Buscar

    // Filters and Stats
    .row.mb-3
      .col-md-8
        .d-flex.gap-2.flex-wrap
          span.badge.bg-secondary Rango de precio:
          button.btn.btn-outline-secondary.btn-sm $0-$50
          button.btn.btn-outline-secondary.btn-sm $50-$100
          button.btn.btn-outline-secondary.btn-sm $100+
      .col-md-4.text-md-end
        small.text-muted #{items.length} productos encontrados

    // Items Grid
    .row
      each item in items
        .col-md-4.col-lg-3.mb-4
          .card.h-100.shadow-sm.border-0
            .position-relative
              img.card-img-top(src=item.image, alt=item.title, style="height: 200px; object-fit: cover;")
              .position-absolute.top-0.end-0.m-2
                button.btn.btn-light.btn-sm.rounded-circle
                  i.bi.bi-heart
              if item.condition
                .position-absolute.bottom-0.start-0.m-2
                  span.badge.bg-success= item.condition
            
            .card-body.d-flex.flex-column
              h6.card-title.fw-bold= item.title
              p.card-text.text-muted.small.flex-grow-1= item.description
              .d-flex.justify-content-between.align-items-center.mt-auto
                span.h5.text-primary.mb-0 $#{item.price}
                small.text-muted= item.category
              
              .d-grid.gap-2.mt-3
                a.btn.btn-outline-primary.btn-sm(href=`/items/${item.id}`) Ver detalles
                button.btn.btn-success.btn-sm
                  i.bi.bi-whatsapp.me-1
                  | Contactar

    // Load More Section
    .row.mt-4
      .col-12.text-center
        button.btn.btn-outline-primary.btn-lg Cargar más productos

    // Categories Quick Access
    .row.mt-5.mb-4
      .col-12
        h3.text-center.mb-4 Explora por categorías
        .row.text-center
          .col-6.col-md-2.mb-3
            .card.border-0.bg-light
              .card-body.py-3
                i.bi.bi-book.fs-1.text-primary
                p.mt-2.mb-0 Libros
          .col-6.col-md-2.mb-3
            .card.border-0.bg-light
              .card-body.py-3
                i.bi.bi-laptop.fs-1.text-primary
                p.mt-2.mb-0 Tecnología
          .col-6.col-md-2.mb-3
            .card.border-0.bg-light
              .card-body.py-3
                i.bi.bi-palette.fs-1.text-primary
                p.mt-2.mb-0 Arte
          .col-6.col-md-2.mb-3
            .card.border-0.bg-light
              .card-body.py-3
                i.bi.bi-house.fs-1.text-primary
                p.mt-2.mb-0 Hogar
          .col-6.col-md-2.mb-3
            .card.border-0.bg-light
              .card-body.py-3
                i.bi.bi-three-dots.fs-1.text-primary
                p.mt-2.mb-0 Otros
